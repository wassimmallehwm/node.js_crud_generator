{"version":3,"sources":["Components/app-generator/entities-generator/mongoDB/mongoose/models-generator/template.js","Components/app-generator/entities-generator/mongoDB/mongoose/models-generator/ModelsGenerator.ts"],"names":["modelTemplate","entity","entities","entity_fields","forEach","elem","fieldDefault","field_default","field_type","fieldRef","field_ref","field_name","field_required","field_unique","entity_paginated","entity_name","entity_timestamp","ModelsGenerator","directory","models","folder","file","toLocaleLowerCase"],"mappings":"mMAqCeA,EApCO,SAACC,GACnB,IAAIC,EAAW,GAsBf,OArBAD,EAAOE,cAAcC,SAAQ,SAAAC,GACzB,IAAIC,EAAe,GAChBD,EAAKE,eAAuC,IAAtBF,EAAKE,gBAEtBD,EADkB,UAAnBD,EAAKG,WACQ,8BACRH,EAAKE,cADG,MAGA,6BACTF,EAAKE,cADI,MAIpB,IAAIE,EAAWJ,EAAKK,WAA+B,IAAlBL,EAAKK,UAAvB,0BACPL,EAAKK,UADE,MACc,GAC7BR,GAAQ,UAAOG,EAAKM,WAAZ,8BACAN,EAAKG,WADL,gCAEIH,EAAKO,eAFT,8BAGEP,EAAKQ,aAHP,YAGuBP,GAHvB,OAGsCG,EAHtC,qBAQN,0CAAN,OACFR,EAAOa,iBAAmB,yDAA2D,GADnF,qBAGIb,EAAOc,YAHX,+CAIEb,EAJF,mCAMcD,EAAOe,iBANrB,oBASFf,EAAOa,iBAAmBb,EAAOc,YAAc,mCAAqC,GATlF,8CAU+Bd,EAAOc,YAVtC,cAUuDd,EAAOc,YAV9D,aCVWE,E,kGARX,SAAqBf,EAAoBgB,GACrC,IAAIC,EAAM,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAWE,OAAO,UAC/BlB,EAASE,SAAQ,SAAAH,GACP,OAANkB,QAAM,IAANA,KAAQE,KAAR,UAAgBpB,EAAOc,YAAYO,oBAAnC,OAA6DtB,EAAcC,W","file":"static/js/4.0b22d038.chunk.js","sourcesContent":["\r\nconst modelTemplate = (entity) => {\r\n    let entities = '';\r\n    entity.entity_fields.forEach(elem => {\r\n        let fieldDefault = '';\r\n        if(elem.field_default && elem.field_default != \"\"){\r\n            if(elem.field_type == \"String\"){\r\n                fieldDefault = `\r\n        default: \"${elem.field_default}\",`\r\n            } else {\r\n                fieldDefault = `\r\n        default: ${elem.field_default},`\r\n            }\r\n        }\r\n        let fieldRef = elem.field_ref && elem.field_ref != \"\" ?`\r\n        ref: \"${elem.field_ref}\",` : '';\r\n        entities += `${elem.field_name}: {\r\n        type: ${elem.field_type},\r\n        required: ${elem.field_required},\r\n        unique: ${elem.field_unique},${fieldDefault}${fieldRef}\r\n    },\r\n    `\r\n    })\r\n\r\n    return `const mongoose = require('mongoose');\r\n${entity.entity_paginated ? \"const mongoosePaginate = require('mongoose-paginate');\" : \"\"}\r\n\r\nconst ${entity.entity_name}Schema = new mongoose.Schema({\r\n    ${entities}\r\n}, {\r\n    timestamps: ${entity.entity_timestamp}\r\n});\r\n\r\n${entity.entity_paginated ? entity.entity_name + \"Schema.plugin(mongoosePaginate);\" : \"\"}\r\nmodule.exports = mongoose.model('${entity.entity_name}', ${entity.entity_name}Schema);`\r\n}\r\n\r\nexport default modelTemplate;","import JSZip from \"jszip\";\r\nimport { Entity } from \"../../../../../../types/Entity\";\r\nimport modelTemplate from \"./template\";\r\n\r\nclass ModelsGenerator {\r\n\r\n    static generateModel(entities: Entity[], directory: JSZip){\r\n        var models = directory?.folder(\"models\");\r\n        entities.forEach(entity => {\r\n            models?.file(`${entity.entity_name.toLocaleLowerCase()}.js`, modelTemplate(entity));\r\n        })\r\n    }\r\n}\r\n\r\nexport default ModelsGenerator;"],"sourceRoot":""}